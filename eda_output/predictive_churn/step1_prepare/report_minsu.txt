[고객 이탈 예측 – 스냅샷 & 라벨링 분석 보고서]

1. 분석 개요
------------------------------------------------------------
본 분석은 2~30대 남성 고객을 주요 타겟으로 하는 쇼핑몰 데이터를 바탕으로
90일 기준의 고객 이탈 여부(churn_90d)를 라벨링하고,
모델 학습을 위한 스냅샷 데이터셋을 생성한 과정과 통계를 정리한 것이다.

- 분석 기준일(Reference date)
  - Train: 2025-02-12 19:16:11
  - Test : 2025-05-13 19:16:11
- 이탈 판정 기준: 스냅샷 시점 이후 90일 간 구매 이력 없음 → 이탈(1)

2. 데이터셋 구성 및 라벨 분포
------------------------------------------------------------
[TRAIN SET]
- Full 데이터: 10,000건 | churn_90d 비율: 26.37%
- Cohort (2~30대 남성): 2,835건 | churn_90d 비율: 26.14%
- Cohort 비중: 전체의 약 28.35%

[TEST SET]
- Full 데이터: 10,000건 | churn_90d 비율: 25.24%
- Cohort (2~30대 남성): 2,835건 | churn_90d 비율: 24.44%
- Cohort 비중: 전체의 약 28.35%

3. 주요 변수 비교 (중앙값 기준)
------------------------------------------------------------
[Train Set]
- order_count      : Full=3.00 | Cohort=3.00
- login_count      : Full=7.00 | Cohort=7.00
- avg_days_between_orders: Full=37.33 | Cohort=38.80
- total_spend      : Full=1,639,500 | Cohort=1,583,300
- age              : Full=41 | Cohort=29

[Test Set]
- order_count      : Full=6.00 | Cohort=6.00
- login_count      : Full=11.00 | Cohort=11.00
- avg_days_between_orders: Full=33.12 | Cohort=34.50
- total_spend      : Full=3,305,800 | Cohort=3,280,900
- age              : Full=41 | Cohort=29

→ Cohort 그룹은 동일 시점에서 전체 대비 나이가 확연히 낮고,
  총 구매금액도 소폭 낮으나, 구매 빈도 및 로그인 수는 유사.

4. 추가 분석 포인트
------------------------------------------------------------
(1) Cohort 그룹의 이탈률(26.14%, 24.44%)이 Full Set 평균보다 낮음
    → 주 고객층(2~30대 남성)이 상대적으로 충성도가 높음을 시사.

(2) 구매 간격(avg_days_between_orders) 분포 확인
    - 대부분 0~60일 내 재구매, 장기 미구매자는 소수.
    - 장기 미구매자 비율을 Feature로 반영 가능.

(3) 로그인 수 분포
    - 일부 극단값(30회 이상) 존재 → 재방문 충성 고객 세그먼트 정의 가능.

(4) 주문 건수(order_count) 분포
    - 소수의 고빈도 구매 고객(20건 이상) 존재
    - CLV(Customer Lifetime Value) 높은 고객군 분리 필요.

5. 사용한 분석 방법
------------------------------------------------------------
1) **스냅샷 추출 (Snapshotting)**
   - 특정 시점을 기준으로 고객의 누적 구매 이력, 로그인 이력, 재구매 주기 등 상태를 고정.

2) **라벨링 (Labeling)**
   - 스냅샷 시점 이후 90일 간 구매 여부로 이탈 여부 판정.
   - 구매 없음 → churn=1, 구매 있음 → churn=0.

3) **Cohort 필터링**
   - 주 타겟(2~30대 남성)만 별도 그룹 추출.
   - 전체 대비 비교를 통해 타겟 고객 특성 분석.

4) **기술 통계 (Descriptive Statistics)**
   - 중앙값(median), 분포(histogram) 비교.
   - 시각화로 분포 특성 파악.

5) **이탈률 비교 분석**
   - Full vs Cohort 이탈률 차이 확인.
   - 타겟 그룹 충성도 분석.

6. 후속 제안
------------------------------------------------------------
- Feature 엔지니어링 시 '장기 미구매 여부', '로그인 편차', '고객 등급' 등 추가 반영.
- Cohort 고객 유지 전략(리텐션 캠페인) 강화 → 낮은 이탈률 유지.
- 장기적으로 고객 생애가치(CLTV) 예측 모델과 결합 가능.
